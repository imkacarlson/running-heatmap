{
  "version": "2.0.0",
  "options": {
    "shell": {
      "executable": "/usr/bin/bash",
      "args": ["-l", "-c"]
    }
  },
  "tasks": [
    {
      "label": "ğŸ› ï¸ Setup Python venv",
      "type": "shell",
      "command": "python3 -m venv .venv && source .venv/bin/activate && pip install --upgrade pip gpxpy fitdecode",
      "group": "build",
      "presentation": { "reveal": "always", "clear": true }
    },
    {
      "label": "ğŸ Import runs â†’ GeoJSON",
      "type": "shell",
      "command": "source .venv/bin/activate && python3 pipeline/import_runs.py --input-dir data/raw --output data/processed/all_runs.geojson",
      "dependsOn": "ğŸ› ï¸ Setup Python venv",
      "group": "build",
      "presentation": { "clear": true }
    },
    {
      "label": "ğŸ—ºï¸ Make MBTiles",
      "type": "shell",
      "command": "bash pipeline/make_tiles.sh",
      "group": "build",
      "presentation": { "clear": true }
    },
    {
      "label": "ğŸ–¥ï¸ Serve frontend",
      "type": "shell",
      "command": "http-server . -p 8081 --cors --gzip",
      "isBackground": true,
      "group": "build",
      "presentation": { "panel": "shared", "echo": true, "reveal": "always" }
    }
  ]
}